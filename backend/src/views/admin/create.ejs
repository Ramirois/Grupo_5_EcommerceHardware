<!doctype html>
<html lang="es">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
      
    <!--Enlace a Fontawesone  (Para lograr disponer los iconos)-->
    <script src="https://kit.fontawesome.com/7968cc1663.js" crossorigin="anonymous"></script>
    <%- include('../partials/head.ejs') %>   
  <body>
    <%- include('../partials/header.ejs') %>
            <div class="container">
              <div>
                <h2 class="custom-display">Crear un Producto</h2>
              </div>
                    
                            <form action="/admin/create" method="POST" enctype="multipart/form-data" >
                                <div class="form-group">
                                    <input type="text" class="form-control" name="nombre" id="inputNombre" placeholder="Nombre" required="required" value="<%= locals.old ? old.nombre : null %>">
                                    <div>
                                      <small class="text-danger erName"></small>
                                    </div>
                                    <% if(locals.errors && errors.nombre) { %>
                                      <div class="text-danger">
                                        <%= errors.nombre.msg %>
                                      </div>
                                      <% } %>
                                </div>	
                                <div class="form-group">
                                    <input type="text" class="form-control" name="descripcion" id="inputDescripcion" placeholder="Descripción" required="required" value="<%= locals.old ? old.descripcion : null %>">
                                    <div>
                                      <small class="text-danger erDescription"></small>
                                    </div>
                                    <% if(locals.errors && errors.descripcion) { %>
                                      <div class="text-danger">
                                        <%= errors.descripcion.msg %>
                                      </div>
                                      <% } %>
                                </div>
                                <div class="form-group">
                                    <input type="number" class="form-control" name="precio" placeholder="Precio" required="required" value="<%= locals.old ? old.precio : null %>">
                                    <% if(locals.errors && errors.precio) { %>
                                      <div class="text-danger">
                                        <%= errors.precio.msg %>
                                      </div>
                                      <% } %>
                                </div>
                                <div class="form-group">
                                  <label for="">Categoría</label>
                                    <select  name="categoria" class="custom-select" id="validationCustom04" required>
                                      <option selected disabled value="#">Seleccione categoría</option>
                                      <%categorias.forEach((categoria)=>{%>
                                      <option value="<%=categoria.id%>"><%=categoria.name%></option>
                                      <%})%>
                                    </select>
                                </div>

                                <div class="form-group">
                                  <label for="">Color</label>
                                  <select  name="color" class="custom-select" id="validationCustom04" required>
                                    <option selected disabled value="#">Seleccione color</option>
                                    <%colores.forEach((color)=>{%>
                                    <option value="<%=color.id%>"><%=color.name%></option>
                                    <%})%>
                                  </select>
                              </div>

                              <div class="form-group">
                                <label for="">Marca</label>
                                <select  name="marca" class="custom-select" id="validationCustom04" required>
                                  <option selected disabled value="#">Seleccione marca</option>
                                  <%marcas.forEach((marca)=>{%>
                                  <option value="<%=marca.id%>"><%=marca.name%></option>
                                  <%})%>
                                </select>
                            </div>
                                <!--Aquí solicito la imagen-->
                                <label for="image">Imagen</label>
                                <input type="file" name="image" id="image">
                                <% if(locals.errors && errors.image) { %>
                                  <div class="text-danger">
                                    <%= errors.image.msg %>
                                  </div>
                                  <% } %>
                                
                                <div class="form-group">
                                    <button type="submit" class="btn btn btn-info" id="btnSubmit">Guardar</button>
                                    <a href="/admin" class="btn btn-danger">Volver</a>
                                </div>
                                
                            </form>
            </div>
            <%- include('../partials/footer.ejs') %>
            <script src="/js/create.js"></script>
</body>
</html>